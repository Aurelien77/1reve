{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aurel\\\\Desktop\\\\web2.0\\\\TRAVAIL-SITE-WEB\\\\REVES\\\\Reves_pour_site_en_ligne\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../helpers/AuthContext\";\nimport logo from \"../logos/favicon.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  /* const [email, setemail] = useState(\"\"); */\n\n  const [password, setPassword] = useState(\"\");\n  const {\n    setAuthState\n  } = useContext(AuthContext);\n  let history = useHistory();\n\n  const login = () => {\n    const data = {\n      username: username,\n\n      /* email: email, */\n      password: password\n    };\n    axios.post(\"https://reves7.herokuapp.com/auth/login\", data).then(response => {\n      if (response.data.error) {\n        alert(response.data.error);\n      } else {\n        localStorage.setItem(\"accessToken\", response.data.token);\n        setAuthState({\n          username: response.data.username,\n\n          /*   email: response.data.email, */\n          photo_profil: response.data.photo_profil,\n          id: response.data.id,\n          admin: response.data.admin,\n          //tous ce qui est dans réponse concernant admin\n          prof: response.data.prof,\n          status: true\n        });\n        history.push(\"/Home\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"background\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"fond\",\n        src: logo,\n        alt: \"Logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Pseudo\",\n        type: \"text\",\n        onChange: event => {\n          /*    setemail(event.target.value); */\n          setUsername(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Password\",\n        type: \"password\",\n        onChange: event => {\n          setPassword(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"boutlog\",\n        onClick: login,\n        children: [\" \", \"Login\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"Grv7sQitqYvA0tGIT+JukHyk6Ns=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/aurel/Desktop/web2.0/TRAVAIL-SITE-WEB/REVES/Reves_pour_site_en_ligne/frontend/src/pages/Login.js"],"names":["React","useState","useContext","axios","useHistory","AuthContext","logo","Login","username","setUsername","password","setPassword","setAuthState","history","login","data","post","then","response","error","alert","localStorage","setItem","token","photo_profil","id","admin","prof","status","push","event","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AAEA,OAAOC,IAAP,MAAiB,sBAAjB;;;AACA,SAASC,KAAT,GAAiB;AAAA;;AACf,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA;;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAM;AAAEW,IAAAA;AAAF,MAAmBV,UAAU,CAACG,WAAD,CAAnC;AAEA,MAAIQ,OAAO,GAAGT,UAAU,EAAxB;;AAEA,QAAMU,KAAK,GAAG,MAAM;AAClB,UAAMC,IAAI,GAAG;AAAEP,MAAAA,QAAQ,EAAEA,QAAZ;;AAAsB;AAAoBE,MAAAA,QAAQ,EAAEA;AAApD,KAAb;AACAP,IAAAA,KAAK,CACFa,IADH,CACQ,yCADR,EACmDD,IADnD,EAEGE,IAFH,CAESC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACH,IAAT,CAAcI,KAAlB,EAAyB;AACvBC,QAAAA,KAAK,CAACF,QAAQ,CAACH,IAAT,CAAcI,KAAf,CAAL;AACD,OAFD,MAEO;AACLE,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCJ,QAAQ,CAACH,IAAT,CAAcQ,KAAlD;AACAX,QAAAA,YAAY,CAAC;AACXJ,UAAAA,QAAQ,EAAEU,QAAQ,CAACH,IAAT,CAAcP,QADb;;AAEX;AACAgB,UAAAA,YAAY,EAAEN,QAAQ,CAACH,IAAT,CAAcS,YAHjB;AAIXC,UAAAA,EAAE,EAAEP,QAAQ,CAACH,IAAT,CAAcU,EAJP;AAKXC,UAAAA,KAAK,EAAER,QAAQ,CAACH,IAAT,CAAcW,KALV;AAKiB;AAC5BC,UAAAA,IAAI,EAAET,QAAQ,CAACH,IAAT,CAAcY,IANT;AAOXC,UAAAA,MAAM,EAAE;AAPG,SAAD,CAAZ;AASAf,QAAAA,OAAO,CAACgB,IAAR,CAAa,OAAb;AACD;AACF,KAlBH;AAmBD,GArBD;;AAuBA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,GAAG,EAAEvB,IAA3B;AAAiC,QAAA,GAAG,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AACE,QAAA,WAAW,EAAC,QADd;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,QAAQ,EAAGwB,KAAD,IAAW;AACnB;AACArB,UAAAA,WAAW,CAACqB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACD;AANH;AAAA;AAAA;AAAA;AAAA,cAJF,eAqBE;AACE,QAAA,WAAW,EAAC,UADd;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,QAAQ,EAAGF,KAAD,IAAW;AACnBnB,UAAAA,WAAW,CAACmB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACD;AALH;AAAA;AAAA;AAAA;AAAA,cArBF,eA6BE;AAAQ,QAAA,SAAS,EAAC,SAAlB;AAA4B,QAAA,OAAO,EAAElB,KAArC;AAAA,mBACG,GADH,WAEQ,GAFR;AAAA;AAAA;AAAA;AAAA;AAAA,cA7BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAsCD;;GAtEQP,K;UAOOH,U;;;KAPPG,K;AAwET,eAAeA,KAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../helpers/AuthContext\";\n\nimport logo from \"../logos/favicon.jpg\";\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  /* const [email, setemail] = useState(\"\"); */\n  const [password, setPassword] = useState(\"\");\n\n  const { setAuthState } = useContext(AuthContext);\n\n  let history = useHistory();\n\n  const login = () => {\n    const data = { username: username, /* email: email, */ password: password };\n    axios\n      .post(\"https://reves7.herokuapp.com/auth/login\", data)\n      .then((response) => {\n        if (response.data.error) {\n          alert(response.data.error);\n        } else {\n          localStorage.setItem(\"accessToken\", response.data.token);\n          setAuthState({\n            username: response.data.username,\n            /*   email: response.data.email, */\n            photo_profil: response.data.photo_profil,\n            id: response.data.id,\n            admin: response.data.admin, //tous ce qui est dans réponse concernant admin\n            prof: response.data.prof,\n            status: true,\n          });\n          history.push(\"/Home\");\n        }\n      });\n  };\n\n  return (\n    <div className=\"background\">\n      <div className=\"loginContainer\">\n        <img className=\"fond\" src={logo} alt=\"Logo\" />\n\n        {/*    <label>Email:</label> */}\n        <input\n          placeholder=\"Pseudo\"\n          type=\"text\"\n          onChange={(event) => {\n            /*    setemail(event.target.value); */\n            setUsername(event.target.value);\n          }}\n        />\n\n        {/*   <input\n          type=\"hidden\"\n          value=\"Mon Profil\"\n          onChange={(event) => {\n            setUsername(event.target.value);\n          }}\n        /> */}\n\n        <input\n          placeholder=\"Password\"\n          type=\"password\"\n          onChange={(event) => {\n            setPassword(event.target.value);\n          }}\n        />\n\n        <button className=\"boutlog\" onClick={login}>\n          {\" \"}\n          Login{\" \"}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}