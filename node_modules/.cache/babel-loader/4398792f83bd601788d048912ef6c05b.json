{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aurel\\\\Desktop\\\\Test_site_piano\\\\AurelienMonceau_7_20042021-master\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../helpers/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Profile() {\n  _s();\n\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [photo_profil, setphoto_profil] = useState(\"\");\n  const [listOfPosts, setListOfPosts] = useState([]);\n  const {\n    authState\n  } = useContext(AuthContext);\n  useEffect(() => {\n    axios.get(`http://localhost:3001/auth/basicinfo/${id}`).then(response => {\n      setUsername(response.data.username);\n      setphoto_profil(response.data.photo_profil);\n    });\n    axios.get(`http://localhost:3001/posts/byuserId/${id}`).then(response => {\n      setListOfPosts(response.data);\n    });\n  }, []);\n\n  const mode = () => {\n    window.location.reload(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flexgobal\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modif\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"boutonmodif\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: mode,\n          children: \"\\uD83D\\uDCD1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basicinfo3\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\" \", username, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profil\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"http://localhost:3001/images/\" + photo_profil,\n              alt: \"profil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this), (authState.username === username || authState.admin === true) && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                history.push(\"/changepassword\");\n              },\n              children: [\" \", \"Changer mon mots de passe\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"http://localhost:3001/upload/\" + id,\n              method: \"POST\",\n              enctype: \"multipart/form-data\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  name: \"file\",\n                  id: \"input-files\",\n                  class: \"form-control-file border\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                class: \"btn btn-primary\",\n                children: \"Soum\\xEAtre l'image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                history.push(\"/delete\");\n              },\n              children: [\" \", \"Supprimer le compte\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bio\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Non ergo erunt homines deliciis diffluentes audiendi, si quando de amicitia, quam nec usu nec ratione habent cognitam, disputabunt. Nam quis est, pro deorum fidem atque hominum! qui velit, ut neque diligat quemquam nec ipse ab ullo diligatur, circumfluere omnibus copiis atque in omnium rerum abundantia vivere? Haec enim est tyrannorum vita nimirum, in qua nulla fides, nulla caritas, nulla stabilis benevolentiae potest esse fiducia, omnia semper suspecta atque sollicita, nullus locus amicitiae. Omitto iuris dictionem in libera civitate contra leges senatusque consulta; caedes relinquo; libidines praetereo, quarum acerbissimum extat indicium et ad insignem memoriam turpitudinis et paene ad iustum odium imperii nostri, quod constat nobilissimas virgines se in puteos abiecisse et morte voluntaria necessariam turpitudinem depulisse. Nec haec idcirco omitto, quod non gravissima sint, sed quia nunc sine teste dico. Verum ad istam omnem orationem brevis est defensio. Nam quoad aetas M. Caeli dare potuit isti suspicioni locum, fuit primum ipsius pudore, deinde etiam patris diligentia disciplinaque munita. Qui ut huic virilem togam dedit\\u0161nihil dicam hoc loco de me; tantum sit, quantum vos existimatis; hoc dicam, hunc a patre continuo ad me esse deductum; nemo hunc M. Caelium in illo aetatis flore vidit nisi aut cum patre aut mecum aut in M. Crassi castissima domo, cum artibus honestissimis erudiretur. Illud autem non dubitatur quod cum esset aliquando virtutum omnium domicilium Roma, ingenuos advenas plerique nobilium, ut Homerici bacarum suavitate Lotophagi, humanitatis multiformibus officiis retentabant. Sed laeditur hic coetuum magnificus splendor levitate paucorum incondita, ubi nati sunt non reputantium, sed tamquam indulta licentia vitiis ad errores lapsorum ac lasciviam. ut enim Simonides lyricus docet, beate perfecta ratione vieturo ante alia patriam esse convenit gloriosam.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"fodO4zgP3Z+LzV1C+smUR6grF8o=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/aurel/Desktop/Test_site_piano/AurelienMonceau_7_20042021-master/frontend/src/pages/Profile.js"],"names":["React","useEffect","useState","useContext","useParams","useHistory","axios","AuthContext","Profile","id","history","username","setUsername","photo_profil","setphoto_profil","listOfPosts","setListOfPosts","authState","get","then","response","data","mode","window","location","reload","admin","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../helpers/AuthContext\";\n\nfunction Profile() {\n  let { id } = useParams();\n  let history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [photo_profil, setphoto_profil] = useState(\"\");\n  const [listOfPosts, setListOfPosts] = useState([]);\n  const { authState } = useContext(AuthContext);\n\n  useEffect(() => {\n    axios.get(`http://localhost:3001/auth/basicinfo/${id}`).then((response) => {\n      setUsername(response.data.username);\n      setphoto_profil(response.data.photo_profil);\n    });\n\n    axios.get(`http://localhost:3001/posts/byuserId/${id}`).then((response) => {\n      setListOfPosts(response.data);\n    });\n  }, []);\n  const mode = () => {\n    window.location.reload(false);\n  };\n\n  return (\n    <div className=\"flexgobal\">\n      <div className=\"modif\">\n        {\" \"}\n        <span className=\"boutonmodif\">\n          <button onClick={mode}>📑</button>\n        </span>\n      </div>\n      <div className=\"app3\">\n        <div className=\"flex2\">\n          <div className=\"basicinfo3\">\n            {\" \"}\n            <h1> {username} </h1>\n            <div className=\"profil\">\n              <img\n                src={\"http://localhost:3001/images/\" + photo_profil}\n                alt=\"profil\"\n              />{\" \"}\n            </div>\n            {(authState.username === username || authState.admin === true) && (\n              <>\n                <button\n                  onClick={() => {\n                    history.push(\"/changepassword\");\n                  }}\n                >\n                  {\" \"}\n                  Changer mon mots de passe\n                </button>\n                <form\n                  action={\"http://localhost:3001/upload/\" + id}\n                  method=\"POST\"\n                  enctype=\"multipart/form-data\"\n                >\n                  <div class=\"form-group\">\n                    <input\n                      type=\"file\"\n                      name=\"file\"\n                      id=\"input-files\"\n                      class=\"form-control-file border\"\n                    />\n                  </div>\n\n                  <button type=\"submit\" class=\"btn btn-primary\">\n                    Soumêtre l'image\n                  </button>\n                </form>\n\n                <button\n                  onClick={() => {\n                    history.push(\"/delete\");\n                  }}\n                >\n                  {\" \"}\n                  Supprimer le compte\n                </button>\n              </>\n            )}\n          </div>{\" \"}\n        </div>\n\n        <div className=\"bio\">\n          <div>\n            Non ergo erunt homines deliciis diffluentes audiendi, si quando de\n            amicitia, quam nec usu nec ratione habent cognitam, disputabunt. Nam\n            quis est, pro deorum fidem atque hominum! qui velit, ut neque\n            diligat quemquam nec ipse ab ullo diligatur, circumfluere omnibus\n            copiis atque in omnium rerum abundantia vivere? Haec enim est\n            tyrannorum vita nimirum, in qua nulla fides, nulla caritas, nulla\n            stabilis benevolentiae potest esse fiducia, omnia semper suspecta\n            atque sollicita, nullus locus amicitiae. Omitto iuris dictionem in\n            libera civitate contra leges senatusque consulta; caedes relinquo;\n            libidines praetereo, quarum acerbissimum extat indicium et ad\n            insignem memoriam turpitudinis et paene ad iustum odium imperii\n            nostri, quod constat nobilissimas virgines se in puteos abiecisse et\n            morte voluntaria necessariam turpitudinem depulisse. Nec haec\n            idcirco omitto, quod non gravissima sint, sed quia nunc sine teste\n            dico. Verum ad istam omnem orationem brevis est defensio. Nam quoad\n            aetas M. Caeli dare potuit isti suspicioni locum, fuit primum ipsius\n            pudore, deinde etiam patris diligentia disciplinaque munita. Qui ut\n            huic virilem togam deditšnihil dicam hoc loco de me; tantum sit,\n            quantum vos existimatis; hoc dicam, hunc a patre continuo ad me esse\n            deductum; nemo hunc M. Caelium in illo aetatis flore vidit nisi aut\n            cum patre aut mecum aut in M. Crassi castissima domo, cum artibus\n            honestissimis erudiretur. Illud autem non dubitatur quod cum esset\n            aliquando virtutum omnium domicilium Roma, ingenuos advenas plerique\n            nobilium, ut Homerici bacarum suavitate Lotophagi, humanitatis\n            multiformibus officiis retentabant. Sed laeditur hic coetuum\n            magnificus splendor levitate paucorum incondita, ubi nati sunt non\n            reputantium, sed tamquam indulta licentia vitiis ad errores lapsorum\n            ac lasciviam. ut enim Simonides lyricus docet, beate perfecta\n            ratione vieturo ante alia patriam esse convenit gloriosam.\n          </div>\n        </div>\n      </div>{\" \"}\n    </div>\n  );\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}